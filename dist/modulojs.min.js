/*! modulojs 28-11-2014 */
var app=app||{};!function(){function a(a,b){d[a]=b}function b(a,b){c.extensions[a]&&console.error('there is an extension with name: "'+a+'"'),c.extensions[a]=b(d)}Array.prototype.some||(Array.prototype.some=function(){return function(a){for(var b=!1,c=0;c<this.length;c++)if(a(this[c],c,this)){b=!0;break}return b}}());var c={},d={};c.extensions={};var e=function(a,b){var d={};return d.element=b,d.subscribe=function(a,b){return c.extensions.pubsub.subscribe(a,b)},d.publish=function(a,b){c.extensions.pubsub.publish(a,b)},d.unsubscribe=function(a){return c.extensions.pubsub.unsubscribe(a)},d.extensions=function(){return c.extensions}(),d};c.registerModule=function(a,b,d){function f(b){g&&(g.innerHTML=b),d(new e(a,g))}var g=document.getElementById(a);"function"!=typeof b?c.extensions.http.get(b,f):(d=d||b,f(""))},app.registerModule=c.registerModule,app.registerLib=a,app.registerExtension=b}(),app.registerExtension("http",function(){function a(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function b(a){if("object"==typeof a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}return a}function c(a){function b(a){return JSON.parse(a)}try{return b(a)}catch(c){return a}}function d(a,c){var d={};"object"==typeof a?d=a:d.url=a,d.data=b(d.data),"undefined"!=typeof d.data&&null!==d.data&&"object"!=typeof d.data&&(d.url=d.url+"?"+d.data),d.method="GET",f(d,c)}function e(a,c){var d={};"object"==typeof a?d=a:d.url=a,d.data=b(d.data),d.method="POST",f(d,c)}var f=function(b,d){var e=a();e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var a="string"==typeof e.responseText?e.responseText:void 0;d(c(a))}else 400==e.status&&alert("There was an error 400")},e.open(b.method,b.url),"POST"==b.method&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(b.data||null)};return{get:d,post:e}}),app.registerExtension("pubsub",function(){var a={},b=function(b,c,d,e){if(a[d]){var f=a[d][c].some(function(a){return a.module==b});f||a[d][c].push({module:b,callback:e})}else a[d]={},a[d][c]=[],a[d][c].push({module:b,callback:e})},c=function(b,c,d){if("undefined"!=typeof a[c]&&"undefined"!=typeof a[c][b])for(var e=a[c][b],f=0;f<e.length;f++)e[f].callback(d)},d=function(b,c,d){var e=a[d][c];e.some(function(a,c,d){return a.module==b?(d.splice(c,1),!0):!1})};return{subscribe:b,publish:c,unsubscribe:d}});